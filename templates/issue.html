{% extends "base.html" %}
{% block content %}

<section class="flex justify-center items-center py-16">
  <div class="bg-white shadow-2xl rounded-2xl p-10 w-full max-w-lg animate-fadeInUp">

    <!-- Heading -->
    <h2 class="text-2xl md:text-3xl font-bold text-primary text-center mb-6">
      Issue Certificate
    </h2>

    <p class="text-gray-600 text-center mb-8">
      Fill in the details below to issue a certificate.
    </p>

    <!-- Issue Form -->
    <form method="post" class="flex flex-col gap-6">

      <!-- Name -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Name</span>
        <input type="text" name="name" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Matric Number -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Matric Number</span>
        <input type="text" name="matric" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Department -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Department</span>
        <input type="text" name="department" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Degree Title -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Degree Title</span>
        <input type="text" name="degree" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Degree Class -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Degree Class</span>
        <input type="text" name="degree_class" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- GPA -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">GPA</span>
        <input type="number" step="0.01" name="gpa" required
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Graduation Year -->
      <label class="flex flex-col text-gray-700">
        <span class="mb-2 font-medium">Graduation Year</span>
        <input type="number" name="graduation_year"
               class="border border-gray-300 rounded-lg p-3 hover:border-primary focus:outline-none focus:ring-2 focus:ring-accent transition"/>
      </label>

      <!-- Submit Button -->
      <button type="submit"
              class="bg-primary text-white px-6 py-3 rounded-lg shadow-lg hover:scale-105 transition transform font-semibold flex items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
        Issue
      </button>

    </form>

    <!-- Certificate Download -->
    {% if issued and pdf_filename %}
      <div class="mt-6 text-center">
        <p class="text-gray-700 mb-2">Certificate issued successfully!</p>
        <a href="{{ url_for('issue_bp.download_certificate', filename=pdf_filename) }}"
           class="bg-accent text-primary px-6 py-3 rounded-lg shadow-lg hover:scale-105 transition transform font-semibold flex items-center justify-center gap-2 mx-auto">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12v8m0 0l-3-3m3 3l3-3"/>
          </svg>
          Download Certificate
        </a>
      </div>
    {% endif %}

  </div>
</section>

{% endblock %}